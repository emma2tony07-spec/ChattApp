<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WhatsApp Status</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f5f5f5;
      color: #333;
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    .navbar {
      background-color: #244576;
      color: white;
      display: flex;
      align-items: center;
      padding: 15px 20px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .navbar-title {
      font-weight: bold;
      font-size: 1.3rem;
      display: flex;
      align-items: center;
      flex: 1;
    }
    
    .back-btn {
      background-color: transparent;
      color: #f0f0f0;
      border: none;
      font-size: 24px;
      cursor: pointer;
      margin-right: 15px;
      padding: 0;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .container {
      max-width: 1200px;
      margin: 20px auto;
      padding: 0 15px;
      padding-bottom: 70px; /* Added padding to prevent content from being hidden behind footer */
    }
    
    .section-title {
      margin: 25px 0 15px;
      color: #244576;
      font-size: 1.2rem;
      padding-left: 10px;
      border-left: 4px solid #244576;
    }
    
    .status-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .status-card {
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s, box-shadow 0.3s;
      cursor: pointer;
    }
    
    .status-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }
    
    .status-image {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-top-left-radius: 12px;
      border-top-right-radius: 12px;
    }
    
    .status-info {
      padding: 12px;
    }
    
    .status-name {
      font-weight: 600;
      color: #244576;
      margin-bottom: 5px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .status-time {
      font-size: 0.8rem;
      color: #777;
    }
    
    .status-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #25D366;
      color: white;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      font-weight: bold;
    }
    
    .status-header {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
      background: white;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }
    
    .my-status {
      display: flex;
      align-items: center;
      flex: 1;
    }
    
    .my-status-img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #244576;
      margin-right: 15px;
    }
    
    .my-status-info h3 {
      color: #244576;
      margin-bottom: 5px;
    }
    
    .my-status-info p {
      color: #777;
      font-size: 0.9rem;
    }
    
    .add-status {
      background: #244576;
      color: white;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 1.5rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }
    
    .viewed .status-image {
      opacity: 0.8;
    }
    
    .viewed .status-name {
      color: #777;
    }
    
    /* Modal Styles */
    .modal-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    
    .modal-content {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
    }
    
    .status-media {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }
    
    .status-media img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    
    .interaction-buttons {
      position: absolute;
      right: 20px;
      bottom: 100px;
      display: flex;
      flex-direction: column;
      gap: 25px;
    }
    
    .interaction-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: white;
      background: none;
      border: none;
      cursor: pointer;
    }
    
    .interaction-btn i {
      font-size: 28px;
      margin-bottom: 5px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .interaction-btn span {
      font-size: 14px;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
    }
    
    .close-modal {
      position: absolute;
      top: 20px;
      left: 20px;
      color: white;
      background: rgba(0, 0, 0, 0.5);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      font-size: 24px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1002;
    }
    
    .reply-container {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      padding: 15px;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
    }
    
    .reply-input {
      flex: 1;
      padding: 12px 15px;
      border: none;
      border-radius: 24px;
      font-size: 16px;
      outline: none;
    }
    
    .send-btn {
      background: #244576;
      color: white;
      border: none;
      border-radius: 50%;
      width: 45px;
      height: 45px;
      margin-left: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .status-info-modal {
      position: absolute;
      bottom: 70px;
      left: 20px;
      color: white;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
    }
    
    .status-info-modal .status-name {
      color: white;
      font-size: 18px;
      margin-bottom: 5px;
    }
    
    .status-info-modal .status-time {
      color: rgba(255, 255, 255, 0.8);
    }
    
    /* Choice Modal Styles */
    .choice-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1001;
    }
    
    .choice-content {
      background: white;
      border-radius: 12px;
      padding: 20px;
      width: 300px;
      text-align: center;
    }
    
    .choice-title {
      color: #244576;
      margin-bottom: 20px;
      font-size: 1.2rem;
    }
    
    .choice-options {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .choice-btn {
      padding: 12px;
      border: none;
      border-radius: 8px;
      background-color: #244576;
      color: white;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    .choice-btn:hover {
      background-color: #1a335a;
    }
    
    .text-editor-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: white;
      display: none;
      flex-direction: column;
      z-index: 1002;
    }
    
    .text-editor-header {
      background-color: #244576;
      color: white;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .text-editor-body {
      flex: 1;
      padding: 20px;
    }
    
    .text-input {
      width: 100%;
      height: 100%;
      border: none;
      outline: none;
      font-size: 1.2rem;
      resize: none;
    }
    
    .text-editor-actions {
      padding: 15px;
      display: flex;
      justify-content: flex-end;
      gap: 10px;
    }
    
    .action-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 20px;
      cursor: pointer;
    }
    
    .cancel-btn {
      background-color: #f0f0f0;
      color: #333;
    }
    
    .post-btn {
      background-color: #244576;
      color: white;
    }
    
    @media (max-width: 768px) {
      .status-grid {
        grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
        gap: 15px;
      }
      
      .status-image {
        height: 150px;
      }
    }
    
    @media (max-width: 480px) {
      .status-grid {
        grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
        gap: 12px;
      }
      
      .status-image {
        height: 130px;
      }
    }
    
    footer { 
      position: fixed; 
      bottom: 0; 
      left: 0; 
      width: 100%; 
      background-color: #f1f1f1; 
      display: flex; 
      justify-content: space-around; 
      padding: 0; 
      box-shadow: 0 -2px 5px rgba(0,0,0,0.1); 
      z-index: 1000; 
      height: 60px; 
    }
    
    h5 {
      color: #244576; 
      font-weight: normal;
      font-size:12px;
      margin: 3px 0 0 0;
    }
    
    .footer-tab { 
      display: flex; 
      flex-direction: column; 
      align-items: center; 
      justify-content: center; 
      flex: 1; 
      padding: 8px 0; 
      cursor: pointer; 
      background: transparent; 
      border: none; 
      
    }
    
    .footer-tab.active { 
      background-color: #e6e6e6; 
    }
    
    .footer-tab.active h5 { 
      color: #244576; 
      font-weight: bold;
      font-size:12px;
    }
    
    .message-sender { 
      font-size: 0.85em; 
      font-weight: bold; 
      color: #444; 
    }
    
    img { 
      height: 24px; 
      width: 24px; 
    }
  </style>
</head>
<body>
  <div class="navbar">
    <div class="navbar-title">
      <!--<button class="back-btn" onclick="goBack()">←</button>-->
      <span>Status Updates</span>
    </div>
  </div>
  
  <div class="container">
    <div class="status-header">
      <div class="my-status">
        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="My Status" class="my-status-img">
        <div class="my-status-info">
          <h3>My Status</h3>
          <p>Tap to add status update</p>
        </div>
      </div>
      <button class="add-status" onclick="showChoiceModal()">+</button>
    </div>
    
    <h2 class="section-title">Recent Updates</h2>
    
    <div class="status-grid" id="status-grid">
      <!-- Status cards will be generated here -->
    </div>
  </div>

  <!-- Status Modal -->
  <div class="modal-container" id="status-modal">
    <div class="modal-content">
      <button class="close-modal" onclick="closeModal()">
        <i class="fas fa-times"></i>
      </button>
      
      <div class="status-media">
        <img id="modal-status-image" src="" alt="Status">
      </div>
      
      <div class="status-info-modal">
        <div class="status-name" id="modal-status-name">User Name</div>
        <div class="status-time" id="modal-status-time">10 minutes ago</div>
      </div>
      
      <div class="interaction-buttons">
        <button class="interaction-btn" onclick="likeStatus()">
          <i class="far fa-heart"></i>
          <span id="like-count">0</span>
        </button>
        <button class="interaction-btn" onclick="shareStatus()">
          <i class="far fa-share-square"></i>
          <span>Share</span>
        </button>
      </div>
      
      <div class="reply-container">
        <input type="text" class="reply-input" placeholder="Type a reply...">
        <button class="send-btn" onclick="sendReply()">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Choice Modal -->
  <div class="choice-modal" id="choice-modal">
    <div class="choice-content">
      <h2 class="choice-title">Add Status Update</h2>
      <div class="choice-options">
        <button class="choice-btn" onclick="selectOption('text')">
          <i class="fas fa-font"></i> Text
        </button>
        <button class="choice-btn" onclick="selectOption('picture')">
          <i class="fas fa-image"></i> Picture
        </button>
        <button class="choice-btn" onclick="selectOption('video')">
          <i class="fas fa-video"></i> Video
        </button>
      </div>
    </div>
  </div>

  <!-- Text Editor Modal -->
  <div class="text-editor-modal" id="text-editor-modal">
    <div class="text-editor-header">
      <h2>Create Text Status</h2>
      <button class="close-modal" onclick="closeTextEditor()">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="text-editor-body">
      <textarea class="text-input" placeholder="Type your status here..." id="status-text-input"></textarea>
    </div>
    <div class="text-editor-actions">
      <button class="action-btn cancel-btn" onclick="closeTextEditor()">Cancel</button>
      <button class="action-btn post-btn" onclick="postTextStatus()">Post</button>
    </div>
  </div>
  
  <footer id="app-footer">
    <button class="footer-tab" onclick="toChats()">
      <img src="https://cdn-icons-png.flaticon.com/128/12595/12595735.png">
      <h5>Chats</h5>
    </button>
    <button class="footer-tab active" onclick="toUpdates()">
      <img src="https://cdn-icons-png.flaticon.com/128/12595/12595753.png">
      <h5>Updates</h5>
    </button>
    <button class="footer-tab" onclick="toCalls()">
      <img src="https://cdn-icons-png.flaticon.com/128/1077/1077063.png">
      <h5>Calls</h5>
    </button>
  </footer>

  <script>
    // Sample status data with just one user
    const statusData = [
      { id: 1, name: "Michael Chen", time: "25 minutes ago", image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60", viewed: false, count: 1, likes: 0 }
    ];

    let currentStatusId = null;

    function goBack() {
      window.location.href="chat.html";
    }
    
    function toChats() {
      window.location.href="chat.html";
    }
  
    function toCalls() {
      window.location.href="calls.html";
    }
    
    function toUpdates() {
      window.location.href="status.html";
    }

    function showChoiceModal() {
      document.getElementById('choice-modal').style.display = 'flex';
      document.getElementById('app-footer').style.display = 'none'; // Hide footer when modal is open
    }

    function hideChoiceModal() {
      document.getElementById('choice-modal').style.display = 'none';
      document.getElementById('app-footer').style.display = 'flex'; // Show footer when modal is closed
    }

    function selectOption(type) {
      hideChoiceModal();
      
      switch(type) {
        case 'text':
          showTextEditor();
          break;
        case 'picture':
          openFileSelector('image/*');
          break;
        case 'video':
          openFileSelector('video/*');
          break;
      }
    }

    function showTextEditor() {
      document.getElementById('text-editor-modal').style.display = 'flex';
      document.getElementById('app-footer').style.display = 'none'; // Hide footer when text editor is open
    }

    function closeTextEditor() {
      document.getElementById('text-editor-modal').style.display = 'none';
      document.getElementById('status-text-input').value = '';
      document.getElementById('app-footer').style.display = 'flex'; // Show footer when text editor is closed
    }

    function openFileSelector(acceptType) {
      // Create a hidden file input element
      const fileInput = document.createElement('input');
      fileInput.type = 'file';
      fileInput.accept = acceptType;
      fileInput.style.display = 'none';
      
      // Add event listener for when a file is selected
      fileInput.addEventListener('change', function() {
        if (this.files && this.files[0]) {
          const file = this.files[0];
          const fileType = file.type.split('/')[0]; // 'image' or 'video'
          
          // For demo purposes, we'll just show an alert
          alert(`Selected ${fileType}: ${file.name}`);
          
          // In a real app, you would:
          // 1. Upload the file to a server
          // 2. Add the status to your data
          // 3. Update the UI
        }
        
        // Remove the input element
        document.body.removeChild(fileInput);
      });
      
      // Add to body and trigger click
      document.body.appendChild(fileInput);
      fileInput.click();
    }

    function postTextStatus() {
      const text = document.getElementById('status-text-input').value.trim();
      
      if (text) {
        // For demo purposes, we'll just show an alert
        alert(`Posting text status: ${text}`);
        
        // In a real app, you would:
        // 1. Send the text to your backend
        // 2. Add the status to your data
        // 3. Update the UI
        
        closeTextEditor();
      } else {
        alert('Please enter some text for your status');
      }
    }

    function viewStatus(id) {
      const status = statusData.find(s => s.id === id);
      if (!status) return;
      
      // Set modal content
      document.getElementById('modal-status-image').src = status.image;
      document.getElementById('modal-status-name').textContent = status.name;
      document.getElementById('modal-status-time').textContent = status.time;
      document.getElementById('like-count').textContent = status.likes;
      
      // Show modal
      document.getElementById('status-modal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
      document.getElementById('app-footer').style.display = 'none'; // Hide footer when viewing status
      
      // Mark as viewed
      if (!status.viewed) {
        status.viewed = true;
        status.count = 0;
        renderStatuses();
      }
      
      currentStatusId = id;
    }

    function closeModal() {
      document.getElementById('status-modal').style.display = 'none';
      document.body.style.overflow = 'auto';
      document.getElementById('app-footer').style.display = 'flex'; // Show footer when closing status view
    }

    function likeStatus() {
      if (!currentStatusId) return;
      
      const status = statusData.find(s => s.id === currentStatusId);
      if (status) {
        status.likes++;
        document.getElementById('like-count').textContent = status.likes;
        
        // Change icon to filled heart
        const heartIcon = document.querySelector('.interaction-btn i.fa-heart');
        heartIcon.classList.remove('far');
        heartIcon.classList.add('fas');
        heartIcon.style.color = '#e91e63';
      }
    }

    function shareStatus() {
      alert("Sharing this status...");
      // In a real app, this would open a share dialog
    }

    function sendReply() {
      const input = document.querySelector('.reply-input');
      const message = input.value.trim();
      
      if (message) {
        console.log("Sending reply:", message);
        alert(`Reply sent: ${message}`);
        input.value = '';
      }
    }

    function renderStatuses() {
      const statusGrid = document.getElementById('status-grid');
      
      // Clear existing content
      statusGrid.innerHTML = '';
      
      // Render status cards
      statusData.forEach(status => {
        const statusCard = document.createElement('div');
        statusCard.className = `status-card ${status.viewed ? 'viewed' : ''}`;
        statusCard.innerHTML = `
          <div style="position: relative;">
            <img src="${status.image}" alt="${status.name}" class="status-image">
            ${!status.viewed && status.count > 0 ? `<div class="status-badge">${status.count}</div>` : ''}
          </div>
          <div class="status-info">
            <div class="status-name">${status.name}</div>
            <div class="status-time">${status.time}</div>
          </div>
        `;
        
        statusCard.addEventListener('click', () => viewStatus(status.id));
        statusGrid.appendChild(statusCard);
      });
    }

    // Close modals when pressing Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeModal();
        hideChoiceModal();
        closeTextEditor();
      }
    });

    // Initialize the page
    document.addEventListener('DOMContentLoaded', renderStatuses);
  </script>
</body>
</html>